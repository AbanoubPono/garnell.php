localhost : 5500/index.html

dns ==> google.com  ===> ip address 


http =>> hypetxt transfar protocol
{port == 80}

    <a href="logout.php">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</a>
=====================================================================================
Ø§Ù„Ø§ÙØ¶Ù„ Ø¹Ù„ÙŠ Ø§Ù„Ø§Ø·Ù„Ø§Ù‚ Ù„Ù„Ø§Ø¯Ù…Ù†

    <?php
session_start();
$host = "localhost";
$user = "root";
$pass = "";
$dbname = "my_database";
$conn = new mysqli($host, $user, $pass, $dbname);

if ($conn->connect_error) {
    die("ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: " . $conn->connect_error);
}

$jobs = ['manager', 'captain', 'waiter', 'pass boy'];

// Ø¥Ù„Ø¨Ø­Ø«
if (isset($_POST['search_code'])) {
    $search_code = $_POST['search_code'];
    $stmt = $conn->prepare("SELECT * FROM users WHERE code = ?");
    $stmt->bind_param("s", $search_code);
    $stmt->execute();
    $result = $stmt->get_result();
    
    while ($user = $result->fetch_assoc()) {
        echo "<tr>
                <td>{$user['id']}</td>
                <td>{$user['name']}</td>
                <td>{$user['code']}</td>
                <td>{$user['role']}</td>
                <td>" . ucfirst($user['job']) . "</td>
                <td>
                    <button class='btn btn-warning btn-sm' onclick=\"editUser({$user['id']}, '{$user['name']}', '{$user['code']}', '{$user['password']}', '{$user['role']}', '{$user['job']}')\">âœ ØªØ¹Ø¯ÙŠÙ„</button>
                    <a class='btn btn-danger btn-sm' href='?delete_user={$user['id']}' onclick=\"return confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø­Ø°ÙØŸ')\">âŒ Ø­Ø°Ù</a>
                </td>
            </tr>";
    }
    exit;
}



// Ø¥Ø¶Ø§ÙØ© Ø£Ùˆ ØªØ¹Ø¯ÙŠÙ„ Ù…Ø³ØªØ®Ø¯Ù…
if (isset($_POST['add_user']) || isset($_POST['edit_user'])) {
    $id = $_POST['id'] ?? null;
    $name = trim($_POST['name']);
    $code = trim($_POST['code']);
    $password = $_POST['password']; 
    $role = $_POST['role'];
    $job = $_POST['job'];

    if (isset($_POST['edit_user']) && $id) {
        if (!empty($_POST['password'])) {
            $password = $_POST['password'];
            $stmt = $conn->prepare("UPDATE users SET name=?, code=?, password=?, role=?, job=? WHERE id=?");
            $stmt->bind_param("sssssi", $name, $code, $password, $role, $job, $id);
        } else {
            $stmt = $conn->prepare("UPDATE users SET name=?, code=?, role=?, job=? WHERE id=?");
            $stmt->bind_param("ssssi", $name, $code, $role, $job, $id);
        }
    } else {
        $stmt = $conn->prepare("INSERT INTO users (name, code, password, role, job) VALUES (?, ?, ?, ?, ?)");
        $stmt->bind_param("sssss", $name, $code, $password, $role, $job);
    }
    
    $stmt->execute();

    // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ù„Ù…Ù†Ø¹ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ø²Ø¯ÙˆØ¬ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ø¯ÙŠØ«
    header("Location: " . $_SERVER['PHP_SELF']);
    exit;
}

// Ø­Ø°Ù Ù…Ø³ØªØ®Ø¯Ù…
if (isset($_GET['delete_user'])) {
    $id = $_GET['delete_user'];
    $conn->query("DELETE FROM users WHERE id=$id");
}

// Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯ Ø£Ùˆ ØªØ¹Ø¯ÙŠÙ„Ù‡
if (isset($_POST['add_file']) || isset($_POST['edit_file'])) {
    $file_name = trim($_POST['file_name']);
    $job = $_POST['job'];
    $file_id = $_POST['file_id'] ?? null;

    if (isset($_POST['edit_file']) && $file_id) {
        $stmt = $conn->prepare("UPDATE files SET file_name=?, allowed_job=? WHERE id=?");
        $stmt->bind_param("ssi", $file_name, $job, $file_id);
    } else {
        $file = $_FILES['file'];
        $allowed_extensions = ['pdf', 'jpg', 'png', 'mp4']; // Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø³Ù…ÙˆØ­ Ø¨Ù‡Ø§
        $file_extension = pathinfo($file['name'], PATHINFO_EXTENSION);

        if (!in_array(strtolower($file_extension), $allowed_extensions)) {
            die("âŒ Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù ØºÙŠØ± Ù…Ø³Ù…ÙˆØ­ Ø¨Ù‡!");
        }

        $upload_dir = "uploads/";
        if (!is_dir($upload_dir)) {
            mkdir($upload_dir, 0777, true);
        }

        $file_path = $upload_dir . uniqid() . "." . $file_extension;

        if (move_uploaded_file($file['tmp_name'], $file_path)) {
            $stmt = $conn->prepare("INSERT INTO files (file_name, file_path, allowed_job) VALUES (?, ?, ?)");
            $stmt->bind_param("sss", $file_name, $file_path, $job);
        }
    }
    $stmt->execute();

    // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ù„Ù…Ù†Ø¹ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ø²Ø¯ÙˆØ¬ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ø¯ÙŠØ«
    header("Location: " . $_SERVER['PHP_SELF']);
    exit;
}


// Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
$users = $conn->query("SELECT * FROM users");
// Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù„ÙØ§Øª
$files = $conn->query("SELECT * FROM files");

?>


<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„Ù…Ù„ÙØ§Øª</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
</head>
<body class="bg-light">
<a href="logout.php">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</a>

<div class="container py-5">
    <h2 class="text-center mb-4">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø±ÙƒØ²ÙŠÙ‡</h2>

    <ul class="nav nav-tabs" id="adminTabs" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="users-tab" data-bs-toggle="tab" data-bs-target="#users" type="button" role="tab">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="files-tab" data-bs-toggle="tab" data-bs-target="#files" type="button" role="tab">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù„ÙØ§Øª</button>
        </li>
    </ul>

    <div class="tab-content mt-3" id="adminTabsContent">
        <!-- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† -->
        <div class="card p-4 shadow-sm">
          <form class="row g-3">
              <div class="col-md-6">
              <input type="text" id="search_code" name="search_code" class="form-control" placeholder="Ø§Ø¨Ø­Ø« Ø¨Ø±Ù‚Ù… Ø§Ù„ÙƒÙˆØ¯">
              </div>
              <div class="col-md-6">
              <button type="button" class="btn btn-primary w-100" onclick="searchUser()">ğŸ” Ø¨Ø­Ø«</button>
              </div>
          </form>
      </div>
        <div class="tab-pane fade show active" id="users" role="tabpanel">
            <div class="card p-4 shadow-sm">
                <h4 class="text-center">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h4>
                <form method="POST" class="row g-3">
                    <input type="hidden" id="id" name="id">
                    <div class="col-md-6">
                        <input type="text" id="name" name="name" class="form-control" placeholder="Ø§Ù„Ø§Ø³Ù…" required>
                    </div>
                    <div class="col-md-6">
                        <input type="text" id="code" name="code" class="form-control" placeholder="Ø§Ù„ÙƒÙˆØ¯" required>
                    </div>
                    <div class="col-md-6">
                        <input type="password" id="password" name="password" class="form-control" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
                    </div>
                    <div class="col-md-3">
                        <select id="role" name="role" class="form-select">
                            <option value="user">Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ø§Ø¯ÙŠ</option>
                            <option value="admin">Ù…Ø¯ÙŠØ±</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <select id="user_job" name="job" class="form-select">
                            <?php foreach ($jobs as $job): ?>
                            <option value="<?= $job ?>"><?= ucfirst($job) ?></option>
                            <?php endforeach; ?>
                        </select>
                    </div>
                    <div class="col-md-12">
                        <button type="submit" id="submitBtn" name="add_user" class="btn btn-success w-100">Ø¥Ø¶Ø§ÙØ©</button>
                    </div>
                </form>
                <table class="table table-striped table-bordered mt-4">
                    <thead class="table-dark">
                        <tr>
                            <th>#</th>
                            <th>Ø§Ù„Ø§Ø³Ù…</th>
                            <th>Ø§Ù„ÙƒÙˆØ¯</th>
                            <th>Ø§Ù„Ø¯ÙˆØ±</th>
                            <th>Ø§Ù„ÙˆØ¸ÙŠÙØ©</th>
                            <th>ØªØ­ÙƒÙ…</th>
                        </tr>
                    </thead>
                    <tbody>
                        <?php while ($user = $users->fetch_assoc()): ?>
                        <tr>
                            <td><?= $user['id'] ?></td>
                            <td><?= $user['name'] ?></td>
                            <td><?= $user['code'] ?></td>
                            <td><?= $user['role'] ?></td>
                            <td><?= ucfirst($user['job']) ?></td>
                            <td>
                                <button class='btn btn-warning btn-sm' onclick="editUser(<?= $user['id'] ?>, '<?= $user['name'] ?>', '<?= $user['code'] ?>', '<?= $user['password'] ?>', '<?= $user['role'] ?>', '<?= $user['job'] ?>')">âœ ØªØ¹Ø¯ÙŠÙ„</button>
                                <a class='btn btn-danger btn-sm' href="?delete_user=<?= $user['id'] ?>" onclick="return confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø­Ø°ÙØŸ')">âŒ Ø­Ø°Ù</a>
                            </td>
                        </tr>
                        <?php endwhile; ?>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù„ÙØ§Øª -->
        <div class="tab-pane fade" id="files" role="tabpanel">
            <div class="card p-4 shadow-sm">
                <h4 class="text-center">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù„ÙØ§Øª</h4>
                <form method="POST" enctype="multipart/form-data" class="row g-3">
                    <input type="hidden" id="file_id" name="file_id">
                    <div class="col-md-6">
                        <input type="text" id="file_name" name="file_name" class="form-control" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù" required>
                    </div>
                    <div class="col-md-6">
                        <input type="file" name="file" class="form-control" required>
                    </div>
                    <div class="col-md-6">
                        <select id="file_job" name="job" class="form-select">
                            <?php foreach ($jobs as $job): ?>
                            <option value="<?= $job ?>"><?= ucfirst($job) ?></option>
                            <?php endforeach; ?>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <button type="submit" id="file_submit" name="add_file" class="btn btn-success w-100">Ø¥Ø¶Ø§ÙØ©</button>
                    </div>
                </form>
                <table class="table table-striped table-bordered mt-4">
                    <thead class="table-dark">
                        <tr>
                            <th>Ø§Ù„ØªØ³Ù„Ø³Ù„</th>
                            <th>Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù</th>
                            <th>Ø§Ù„Ù…Ø³Ù…ÙˆØ­ Ù„Ù‡</th>
                            <th>Ø§Ù„Ø±Ø§Ø¨Ø·</th>
                            <th>Ø§Ù„ØªØ­ÙƒÙ…</th>
                        </tr>
                    </thead>
                    <tbody>
                        <?php while ($file = $files->fetch_assoc()): ?>
                        <tr>
                            <td><?= $file['id'] ?></td>
                            <td><?= $file['file_name'] ?></td>
                            <td><?= ucfirst($file['allowed_job']) ?></td>
                            <td><a class="btn btn-primary btn-sm" href="<?= $file['file_path'] ?>" target="_blank">ğŸ“‚ Ø¹Ø±Ø¶</a></td>
                            <td>
                                <button class='btn btn-warning btn-sm' onclick="editFile(<?= $file['id'] ?>, '<?= $file['file_name'] ?>', '<?= $file['allowed_job'] ?>')">âœ ØªØ¹Ø¯ÙŠÙ„</button>
                                <a class='btn btn-danger btn-sm' href="?delete_file=<?= $file['id'] ?>" onclick="return confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø­Ø°ÙØŸ')">âŒ Ø­Ø°Ù</a>
                            </td>
                        </tr>
                        <?php endwhile; ?>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<script>
    function searchUser() {
    let searchCode = document.getElementById("search_code").value.trim();
    if (searchCode === "") {
        alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙˆØ¯ Ù„Ù„Ø¨Ø­Ø«!");
        return;
    }

    let formData = new FormData();
    formData.append("search_code", searchCode);

    fetch(window.location.href, {
        method: "POST",
        body: formData
    })
    .then(response => response.text())
    .then(data => {
        document.querySelector("tbody").innerHTML = data;
    })
    .catch(error => console.error("Error:", error));
}



</script>
    <script>
        function editUser(id, name, code, password, role, job) {
            document.getElementById('id').value = id;
            document.getElementById('name').value = name;
            document.getElementById('code').value = code;
            document.getElementById('password').value = password ;
            document.getElementById('role').value = role;
            document.getElementById('user_job').value = job;
            document.getElementById('submitBtn').name = 'edit_user';
            document.getElementById('submitBtn').textContent = 'ØªØ¹Ø¯ÙŠÙ„';
        }
    </script>
    <script>
        function editFile(id, name, job) {
            document.getElementById('file_id').value = id;
            document.getElementById('file_name').value = name;
            document.getElementById('file_job').value = job;
            document.getElementById('file_submit').name = 'edit_file';
            document.getElementById('file_submit').textContent = 'ØªØ¹Ø¯ÙŠÙ„';
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
===================================================================================================
Ø§Ù„Ø§ÙØ¶Ù„ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…

<?php
session_start();
$host = "localhost";
$user = "root";
$pass = "";
$dbname = "my_database";

$conn = new mysqli($host, $user, $pass, $dbname);

if ($conn->connect_error) {
    die("ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: " . $conn->connect_error);
}

// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
if (!isset($_SESSION['user_id']) || $_SESSION['role'] != 'user') {
    header("Location: login.php");
    exit();
}

$user_name = $_SESSION['name'];
$user_job = $_SESSION['job']; // Ø§Ù„ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…

// Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© Ù„ÙˆØ¸ÙŠÙØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
$sql = "SELECT * FROM files WHERE allowed_job = '$user_job' ORDER BY category";
$result = $conn->query($sql);

$categories = []; // Ù…ØµÙÙˆÙØ© Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ù„ÙØ§Øª Ø­Ø³Ø¨ Ø§Ù„ØªØµÙ†ÙŠÙ

if ($result) {
    while ($file = $result->fetch_assoc()) {
        $category = $file['category'] ?? 'other'; // ØªØ¬Ù†Ø¨ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ ØªØµÙ†ÙŠÙ
        $categories[$category][] = $file;
    }
} else {
    echo "âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù„ÙØ§Øª: " . $conn->error;
}

?>



<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>ØµÙØ­Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="./Garnell.web/style.css">
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin-top: 20px; }
        .file-container { width: 80%; margin: auto; display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; }
        .file-box { border: 1px solid #ddd; padding: 10px; width: 45%; text-align: center; }
        iframe, video { width: 100%; height: 250px; }
    </style>
</head>
<body>

    <h2>Ù…Ø±Ø­Ø¨Ù‹Ø§ØŒ <?= $user_name ?> ğŸ‘‹</h2>
    <p>ÙˆØ¸ÙŠÙØªÙƒ: <strong><?= ucfirst($user_job) ?></strong></p>
    

    <h3>ğŸ“‚ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© Ù„Ùƒ:</h3>
<div class="btn-group mb-3">
    <button class="btn btn-primary" onclick="showCategory('pdf')">ğŸ“„ PDF</button>
    <button class="btn btn-success" onclick="showCategory('video')">ğŸ¥ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</button>
<button class="btn btn-warning" onclick="showCategory('exam')">ğŸ“‘ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†</button>
</div>

<div class="file-container" id="filesContainer">
    <?php foreach ($categories as $category => $files): ?>
        <?php foreach ($files as $file): ?>
            <?php 
                $file_ext = pathinfo($file['file_path'], PATHINFO_EXTENSION);
                $category_type = in_array($file_ext, ['mp4', 'webm', 'ogg']) ? 'video' : ($file_ext == 'pdf' ? 'pdf' : 'other');
            ?>
            <div class="file-box" data-category="<?= $category_type ?>">
                <h4><?= $file['file_name'] ?></h4>
                <?php if ($file_ext == 'pdf'): ?>
                    <div class="d-flex justify-content-center gap-2">
                        <a href="<?= $file['file_path'] ?>" target="_blank" class="btn btn-primary">ğŸ‘ï¸ Ø¹Ø±Ø¶</a>
                        <a href="<?= $file['file_path'] ?>" download class="btn btn-success">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„</a>
                    </div>
                <?php elseif (in_array($file_ext, ['mp4', 'webm', 'ogg'])): ?>
                    <div class="d-flex justify-content-center gap-2">
                        <a href="<?= $file['file_path'] ?>" target="_blank" class="btn btn-primary">ğŸ‘ï¸ Ø¹Ø±Ø¶</a>
                        <a href="<?= $file['file_path'] ?>" download class="btn btn-success">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„</a>
                    </div>
                <?php else: ?>
                    <p>âŒ Ù…Ù„Ù ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ….</p>
                <?php endif; ?>
            </div>
        <?php endforeach; ?>
    <?php endforeach; ?>
</div>


<a href="logout.php">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</a>

<script>
document.addEventListener("DOMContentLoaded", function() {
    let files = document.querySelectorAll('.file-box');
    files.forEach(file => file.style.display = 'none'); // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
});

function showCategory(category) {
    let files = document.querySelectorAll('.file-box');

    if (category === 'exam') {
        window.location.href = "./Garnell.web/exam.html";
        return; // Ø¥ÙŠÙ‚Ø§Ù ØªÙ†ÙÙŠØ° Ø¨Ø§Ù‚ÙŠ Ø§Ù„ÙƒÙˆØ¯ Ø¨Ø¹Ø¯ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡
    }

    files.forEach(file => {
        file.style.display = (file.getAttribute('data-category') === category) ? 'block' : 'none';
    });
}
</script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>    
</body>
</html>

<?php $conn->close(); ?>

===========================================================================================
<?php
// Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
$host = "localhost";
$user = "root";  
$pass = "";      
$dbname = "my_database"; 

$conn = new mysqli($host, $user, $pass, $dbname);

// ÙØ­Øµ Ø§Ù„Ø§ØªØµØ§Ù„
if ($conn->connect_error) {
    die("ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: " . $conn->connect_error);
}

// Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…ØªØ§Ø­Ø©
$jobs = ['manager', 'captain', 'waiter', 'pass boy'];

// Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯
if (isset($_POST['add'])) {
    $name = $_POST['name'];
    $code = $_POST['code'];
    $password = $_POST['password'];
    $role = $_POST['role'];
    $job = $_POST['job'];

    $sql = "INSERT INTO users (name, code, password, role, job) VALUES ('$name', '$code', '$password', '$role', '$job')";
    $conn->query($sql);
}

// ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø³ØªØ®Ø¯Ù…
if (isset($_POST['edit'])) {
    $id = $_POST['id'];
    $name = $_POST['name'];
    $code = $_POST['code'];
    $password = $_POST['password'];
    $role = $_POST['role'];
    $job = $_POST['job'];

    $sql = "UPDATE users SET name='$name', code='$code', password='$password', role='$role', job='$job' WHERE id=$id";
    $conn->query($sql);
}

// Ø­Ø°Ù Ù…Ø³ØªØ®Ø¯Ù…
if (isset($_GET['delete'])) {
    $id = $_GET['delete'];
    $sql = "DELETE FROM users WHERE id=$id";
    $conn->query($sql);
}

// Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
$sql = "SELECT * FROM users";
$result = $conn->query($sql);
?>

<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        table { width: 80%; margin: 20px auto; border-collapse: collapse; }
        th, td { padding: 10px; border: 1px solid black; }
        th { background-color: #3498db; color: white; }
        tr:nth-child(even) { background-color: #f1f1f1; }
        form { margin: 20px auto; width: 50%; text-align: center; }
        input, select, button { padding: 10px; margin: 5px; }
    </style>
</head>
<body>

    <h2>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h2>

    <!-- Ù†Ù…ÙˆØ°Ø¬ Ù„Ø¥Ø¶Ø§ÙØ© Ø£Ùˆ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
    <form method="POST">
        <input type="hidden" name="id" id="id">
        <input type="text" name="name" id="name" placeholder="Ø§Ù„Ø§Ø³Ù…" required>
        <input type="text" name="code" id="code" placeholder="Ø§Ù„ÙƒÙˆØ¯" required>
        <input type="password" name="password" id="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
        
        <!-- Ù‚Ø§Ø¦Ù…Ø© Ù…Ù†Ø³Ø¯Ù„Ø© Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¯ÙˆØ± -->
        <select name="role" id="role">
            <option value="user">Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ø§Ø¯ÙŠ</option>
            <option value="admin">Ù…Ø¯ÙŠØ±</option>
        </select>

        <!-- Ù‚Ø§Ø¦Ù…Ø© Ù…Ù†Ø³Ø¯Ù„Ø© Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙˆØ¸ÙŠÙØ© -->
        <select name="job" id="job">
            <?php foreach ($jobs as $job): ?>
                <option value="<?= $job ?>"><?= ucfirst($job) ?></option>
            <?php endforeach; ?>
        </select>

        <br><br>
        <button type="submit" name="add">Ø¥Ø¶Ø§ÙØ©</button>
        <button type="submit" name="edit">ØªØ¹Ø¯ÙŠÙ„</button>
    </form>

    <table>
        <tr>
            <th>Ø§Ù„ØªØ³Ù„Ø³Ù„</th>
            <th>Ø§Ù„Ø§Ø³Ù…</th>
            <th>Ø§Ù„ÙƒÙˆØ¯</th>
            <th>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</th>
            <th>Ø§Ù„Ø¯ÙˆØ±</th>
            <th>Ø§Ù„ÙˆØ¸ÙŠÙØ©</th>
            <th>Ø§Ù„ØªØ­ÙƒÙ…</th>
        </tr>
        <?php while ($row = $result->fetch_assoc()): ?>
        <tr>
            <td><?= $row['id'] ?></td>
            <td><?= $row['name'] ?></td>
            <td><?= $row['code'] ?></td>
            <td><?= $row['password'] ?></td>
            <td><?= $row['role'] ?></td>
            <td><?= ucfirst($row['job']) ?></td>
            <td>
                <button onclick="editUser(<?= $row['id'] ?>, '<?= $row['name'] ?>', '<?= $row['code'] ?>', '<?= $row['password'] ?>', '<?= $row['role'] ?>', '<?= $row['job'] ?>')">âœ ØªØ¹Ø¯ÙŠÙ„</button>
                <a href="?delete=<?= $row['id'] ?>" onclick="return confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ØŸ')">âŒ Ø­Ø°Ù</a>
            </td>
        </tr>
        <?php endwhile; ?>
    </table>

    <script>
        function editUser(id, name, code, password, role, job) {
            document.getElementById('id').value = id;
            document.getElementById('name').value = name;
            document.getElementById('code').value = code;
            document.getElementById('password').value = password;
            document.getElementById('role').value = role;
            document.getElementById('job').value = job;
        }
    </script>

</body>
</html>

<?php
$conn->close();
?>

===========================================================================================
<?php
// Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
$host = "localhost";
$user = "root";  // Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
$pass = "";      // ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
$dbname = "your_database"; // Ø§Ø³Ù… Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

// Ø¥Ù†Ø´Ø§Ø¡ Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
$conn = new mysqli($host, $user, $pass, $dbname);

// ÙØ­Øµ Ø§Ù„Ø§ØªØµØ§Ù„
if ($conn->connect_error) {
    die("ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„: " . $conn->connect_error);
}

// Ø§Ø³ØªØ¹Ù„Ø§Ù… Ù„Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
$sql = "SELECT id, name, code, password FROM users";
$result = $conn->query($sql);
?>

<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        table { width: 70%; margin: 20px auto; border-collapse: collapse; }
        th, td { padding: 10px; border: 1px solid black; }
        th { background-color: #f4a261; color: white; }
        tr:nth-child(even) { background-color: #f1f1f1; }
    </style>
</head>
<body>

    <h2>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h2>
    <table>
        <tr>
            <th>Ø§Ù„ØªØ³Ù„Ø³Ù„</th>
            <th>Ø§Ù„Ø§Ø³Ù…</th>
            <th>Ø§Ù„ÙƒÙˆØ¯</th>
            <th>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</th>
        </tr>
        <?php
        if ($result->num_rows > 0) {
            while ($row = $result->fetch_assoc()) {
                echo "<tr>
                        <td>{$row['id']}</td>
                        <td>{$row['name']}</td>
                        <td>{$row['code']}</td>
                        <td>{$row['password']}</td>
                      </tr>";
            }
        } else {
            echo "<tr><td colspan='4'>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª</td></tr>";
        }
        $conn->close();
        ?>
    </table>

</body>
</html>
==============================================================================================================
==============================================================================================================
Ø§ÙØ¶Ù„ Ù…Ø§ ÙˆØµÙ„ Ù„ÙŠ ÙÙŠ ØµÙØ­Ù‡ Ø§Ù„Ø§Ø¯Ù…Ù†
<?php
// Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
$host = "localhost";
$user = "root";  
$pass = "";      
$dbname = "my_database"; 

$conn = new mysqli($host, $user, $pass, $dbname);

// ÙØ­Øµ Ø§Ù„Ø§ØªØµØ§Ù„
if ($conn->connect_error) {
    die("ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: " . $conn->connect_error);
}

// Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…ØªØ§Ø­Ø©
$jobs = ['manager', 'captain', 'waiter', 'pass boy'];

// Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø§Ù„ÙƒÙˆØ¯
$search_code = "";
if (isset($_POST['search'])) {
    $search_code = $_POST['search_code'];
}

// Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
$sql = "SELECT * FROM users";
if (!empty($search_code)) {
    $sql .= " WHERE code LIKE '%$search_code%'";
}
$result = $conn->query($sql);

// Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯
if (isset($_POST['add'])) {
    $name = $_POST['name'];
    $code = $_POST['code'];
    $password = $_POST['password'];
    $role = $_POST['role'];
    $job = $_POST['job'];

    $sql = "INSERT INTO users (name, code, password, role, job) VALUES ('$name', '$code', '$password', '$role', '$job')";
    $conn->query($sql);
}

// ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø³ØªØ®Ø¯Ù…
if (isset($_POST['edit'])) {
    $id = $_POST['id'];
    $name = $_POST['name'];
    $code = $_POST['code'];
    $password = $_POST['password'];
    $role = $_POST['role'];
    $job = $_POST['job'];

    $sql = "UPDATE users SET name='$name', code='$code', password='$password', role='$role', job='$job' WHERE id=$id";
    $conn->query($sql);
}

// Ø­Ø°Ù Ù…Ø³ØªØ®Ø¯Ù…
if (isset($_GET['delete'])) {
    $id = $_GET['delete'];
    $sql = "DELETE FROM users WHERE id=$id";
    $conn->query($sql);
}
?>

<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        table { width: 80%; margin: 20px auto; border-collapse: collapse; }
        th, td { padding: 10px; border: 1px solid black; }
        th { background-color: #3498db; color: white; }
        tr:nth-child(even) { background-color: #f1f1f1; }
        form { margin: 20px auto; width: 50%; text-align: center; }
        input, select, button { padding: 10px; margin: 5px; }
    </style>
</head>
<body>

    <h2>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h2>
    <!-- Ù†Ù…ÙˆØ°Ø¬ Ù„Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† -->
    <form method="POST">
        <input type="text" name="search_code" placeholder="Ø§Ø¨Ø­Ø« Ø¨Ø±Ù‚Ù… Ø§Ù„ÙƒÙˆØ¯" value="<?= $search_code ?>">
        <button type="submit" name="search">ğŸ” Ø¨Ø­Ø«</button>
    </form>

    <!-- Ù†Ù…ÙˆØ°Ø¬ Ù„Ø¥Ø¶Ø§ÙØ© Ø£Ùˆ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
    <form method="POST">
        <input type="hidden" name="id" id="id">
        <input type="text" name="name" id="name" placeholder="Ø§Ù„Ø§Ø³Ù…" required>
        <input type="text" name="code" id="code" placeholder="Ø§Ù„ÙƒÙˆØ¯" required>
        <input type="password" name="password" id="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
        
        <!-- Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¯ÙˆØ± -->
        <select name="role" id="role">
            <option value="user">Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ø§Ø¯ÙŠ</option>
            <option value="admin">Ù…Ø¯ÙŠØ±</option>
        </select>

        <!-- Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙˆØ¸ÙŠÙØ© -->
        <select name="job" id="job">
            <?php foreach ($jobs as $job): ?>
                <option value="<?= $job ?>"><?= ucfirst($job) ?></option>
            <?php endforeach; ?>
        </select>

        <br><br>
        <button type="submit" name="add">Ø¥Ø¶Ø§ÙØ©</button>
        <button type="submit" name="edit">ØªØ¹Ø¯ÙŠÙ„</button>
    </form>

    <table>
        <tr>
            <th>Ø§Ù„ØªØ³Ù„Ø³Ù„</th>
            <th>Ø§Ù„Ø§Ø³Ù…</th>
            <th>Ø§Ù„ÙƒÙˆØ¯</th>
            <th>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</th>
            <th>Ø§Ù„Ø¯ÙˆØ±</th>
            <th>Ø§Ù„ÙˆØ¸ÙŠÙØ©</th>
            <th>Ø§Ù„ØªØ­ÙƒÙ…</th>
        </tr>
        <?php while ($row = $result->fetch_assoc()): ?>
        <tr>
            <td><?= $row['id'] ?></td>
            <td><?= $row['name'] ?></td>
            <td><?= $row['code'] ?></td>
            <td><?= $row['password'] ?></td>
            <td><?= $row['role'] ?></td>
            <td><?= ucfirst($row['job']) ?></td>
            <td>
                <button onclick="editUser(<?= $row['id'] ?>, '<?= $row['name'] ?>', '<?= $row['code'] ?>', '<?= $row['password'] ?>', '<?= $row['role'] ?>', '<?= $row['job'] ?>')">âœ ØªØ¹Ø¯ÙŠÙ„</button>
                <a href="?delete=<?= $row['id'] ?>" onclick="return confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ØŸ')">âŒ Ø­Ø°Ù</a>
            </td>
        </tr>
        <?php endwhile; ?>
    </table>

    <script>
        function editUser(id, name, code, password, role, job) {
            document.getElementById('id').value = id;
            document.getElementById('name').value = name;
            document.getElementById('code').value = code;
            document.getElementById('password').value = password;
            document.getElementById('role').value = role;
            document.getElementById('job').value = job;
        }
    </script>

</body>
</html>

<?php
$conn->close();
?>
====================================================================================================================
<?php
session_start();
$host = "localhost";
$user = "root";
$pass = "";
$dbname = "my_database";
$conn = new mysqli($host, $user, $pass, $dbname);

if ($conn->connect_error) {
    die("ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: " . $conn->connect_error);
}

// Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…ØªØ§Ø­Ø©
$jobs = ['manager', 'captain', 'waiter', 'pass boy'];

// Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯
if (isset($_POST['add_user'])) {
    $name = $_POST['name'];
    $code = $_POST['code'];
    $password = $_POST['password'];
    $role = $_POST['role'];
    $job = $_POST['job'];
    
    $sql = "INSERT INTO users (name, code, password, role, job) VALUES ('$name', '$code', '$password', '$role', '$job')";
    $conn->query($sql);
}

// ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø³ØªØ®Ø¯Ù…
if (isset($_POST['edit_user'])) {
    $id = $_POST['id'];
    $name = $_POST['name'];
    $code = $_POST['code'];
    $password = $_POST['password'];
    $role = $_POST['role'];
    $job = $_POST['job'];

    $sql = "UPDATE users SET name='$name', code='$code', password='$password', role='$role', job='$job' WHERE id=$id";
    $conn->query($sql);
}

// Ø­Ø°Ù Ù…Ø³ØªØ®Ø¯Ù…
if (isset($_GET['delete_user'])) {
    $id = $_GET['delete_user'];
    $sql = "DELETE FROM users WHERE id=$id";
    $conn->query($sql);
}

// Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª
if (isset($_POST['upload'])) {
    $allowed_types = ['pdf' => 'application/pdf', 'video' => 'video/mp4'];
    
    $file = $_FILES['file'];
    $job = $_POST['job'];
    $file_type = explode("/", $file['type'])[0] == 'video' ? 'video' : 'pdf';

    if (!in_array($file['type'], $allowed_types)) {
        echo "Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…!";
    } else {
        $upload_dir = "uploads/";
        $file_path = $upload_dir . basename($file['name']);
        
        if (move_uploaded_file($file['tmp_name'], $file_path)) {
            $sql = "INSERT INTO files (file_name, file_type, file_path, allowed_job) VALUES 
                    ('{$file['name']}', '$file_type', '$file_path', '$job')";
            $conn->query($sql);
            echo "ØªÙ… Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù Ø¨Ù†Ø¬Ø§Ø­!";
        } else {
            echo "Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù!";
        }
    }
}

// Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„Ù…Ù„ÙØ§Øª
$users = $conn->query("SELECT * FROM users");
$files = $conn->query("SELECT * FROM files");
?>

<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø£Ø¯Ù…Ù†</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        table { width: 80%; margin: 20px auto; border-collapse: collapse; }
        th, td { padding: 10px; border: 1px solid black; }
        th { background-color: #3498db; color: white; }
        tr:nth-child(even) { background-color: #f1f1f1; }
        form { margin: 20px auto; width: 60%; }
        input, select, button { padding: 10px; margin: 5px; }
    </style>
</head>
<body>

    <h2>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h2>
    <form method="POST">
        <input type="hidden" name="id" id="id">
        <input type="text" name="name" id="name" placeholder="Ø§Ù„Ø§Ø³Ù…" required>
        <input type="text" name="code" id="code" placeholder="Ø§Ù„ÙƒÙˆØ¯" required>
        <input type="text" name="password" id="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
        <select name="role">
            <option value="user">Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ø§Ø¯ÙŠ</option>
            <option value="admin">Ù…Ø¯ÙŠØ±</option>
        </select>
        <select name="job">
            <?php foreach ($jobs as $job): ?>
                <option value="<?= $job ?>"><?= ucfirst($job) ?></option>
            <?php endforeach; ?>
        </select>
        <br><br>
        <button type="submit" name="add_user">Ø¥Ø¶Ø§ÙØ©</button>
        <button type="submit" name="edit_user">ØªØ¹Ø¯ÙŠÙ„</button>
    </form>

    <table>
        <tr>
            <th>Ø§Ù„ØªØ³Ù„Ø³Ù„</th>
            <th>Ø§Ù„Ø§Ø³Ù…</th>
            <th>Ø§Ù„ÙƒÙˆØ¯</th>
            <th>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</th>
            <th>Ø§Ù„Ø¯ÙˆØ±</th>
            <th>Ø§Ù„ÙˆØ¸ÙŠÙØ©</th>
            <th>Ø§Ù„ØªØ­ÙƒÙ…</th>
        </tr>
        <?php while ($row = $users->fetch_assoc()): ?>
        <tr>
            <td><?= $row['id'] ?></td>
            <td><?= $row['name'] ?></td>
            <td><?= $row['code'] ?></td>
            <td><?= $row['password'] ?></td>
            <td><?= $row['role'] ?></td>
            <td><?= $row['job'] ?></td>
            <td>
                <button onclick="editUser(<?= $row['id'] ?>, '<?= $row['name'] ?>', '<?= $row['code'] ?>', '<?= $row['password'] ?>', '<?= $row['role'] ?>', '<?= $row['job'] ?>')">ØªØ¹Ø¯ÙŠÙ„</button>
                <a href="?delete_user=<?= $row['id'] ?>" onclick="return confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ')">âŒ Ø­Ø°Ù</a>
            </td>
        </tr>
        <?php endwhile; ?>
    </table>

    <h2>Ø±ÙØ¹ Ù…Ù„ÙØ§Øª PDF Ø§Ùˆ Madia</h2>
    <form method="POST" enctype="multipart/form-data">
        <input type="file" name="file" required>
        <select name="job">
            <?php foreach ($jobs as $job): ?>
                <option value="<?= $job ?>"><?= ucfirst($job) ?></option>
            <?php endforeach; ?>
        </select>
        <button type="submit" name="upload">Ø±ÙØ¹</button>
    </form>

    <h2>Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø©</h2>
    <table>
        <tr>
            <th>Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù</th>
            <th>Ø§Ù„Ù†ÙˆØ¹</th>
            <th>Ø§Ù„Ù…Ø³Ù…ÙˆØ­ Ù„Ù‡</th>
            <th>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø±ÙØ¹</th>
        </tr>
        <?php while ($file = $files->fetch_assoc()): ?>
        <tr>
            <td><a href="<?= $file['file_path'] ?>" target="_blank"><?= $file['file_name'] ?></a></td>
            <td><?= $file['file_type'] == 'pdf' ? 'ğŸ“„ PDF' : 'ğŸ¥ ÙÙŠØ¯ÙŠÙˆ' ?></td>
            <td><?= ucfirst($file['allowed_job']) ?></td>
            <td><?= $file['uploaded_at'] ?></td>
        </tr>
        <?php endwhile; ?>
    </table>

    <script>
        function editUser(id, name, code, password, role, job) {
            document.getElementById('id').value = id;
            document.getElementById('name').value = name;
            document.getElementById('code').value = code;
            document.getElementById('password').value = password;
            document.getElementById('role').value = role;
            document.getElementById('job').value = job;
        }
    </script>

</body>
</html>

<?php $conn->close(); ?>
=====================================================================================================================
Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù
<?php
session_start();
$host = "localhost";
$user = "root";
$pass = "";
$dbname = "my_database";
$conn = new mysqli($host, $user, $pass, $dbname);

if ($conn->connect_error) {
    die("ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: " . $conn->connect_error);
}

$jobs = ['manager', 'captain', 'waiter', 'pass boy'];

// Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯
if (isset($_POST['add_file'])) {
    $file_name = $_POST['file_name'];
    $job = $_POST['job'];
    $file = $_FILES['file'];

    $upload_dir = "uploads/";
    $file_path = $upload_dir . basename($file['name']);

    if (move_uploaded_file($file['tmp_name'], $file_path)) {
        $sql = "INSERT INTO file (file_name, file_path, allowed_job) VALUES ('$file_name', '$file_path', '$job')";
        $conn->query($sql);
    }
}

// ØªØ¹Ø¯ÙŠÙ„ Ù…Ù„Ù
if (isset($_POST['edit_file'])) {
    $id = $_POST['id'];
    $file_name = $_POST['file_name'];
    $job = $_POST['job'];

    $sql = "UPDATE file SET file_name='$file_name', allowed_job='$job' WHERE id=$id";
    $conn->query($sql);
}

// Ø­Ø°Ù Ù…Ù„Ù
if (isset($_GET['delete_file'])) {
    $id = $_GET['delete_file'];
    $sql = "DELETE FROM file WHERE id=$id";
    $conn->query($sql);
}

$files = $conn->query("SELECT * FROM files");
?>

<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù„ÙØ§Øª</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        table { width: 80%; margin: 20px auto; border-collapse: collapse; }
        th, td { padding: 10px; border: 1px solid black; }
        th { background-color: #3498db; color: white; }
        form { margin: 20px auto; width: 60%; }
        input, select, button { padding: 10px; margin: 5px; }
    </style>
</head>
<body>

    <h2>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù„ÙØ§Øª</h2>
    <form method="POST" enctype="multipart/form-data">
        <input type="hidden" name="id" id="file_id">
        <input type="text" name="file_name" id="file_name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù" required>
        <input type="file" name="file" id="file">
        <select name="job" id="job">
            <?php foreach ($jobs as $job): ?>
                <option value="<?= $job ?>"><?= ucfirst($job) ?></option>
            <?php endforeach; ?>
        </select>
        <br><br>
        <button type="submit" name="add_file">Ø¥Ø¶Ø§ÙØ©</button>
        <button type="submit" name="edit_file">ØªØ¹Ø¯ÙŠÙ„</button>
    </form>

    <table>
        <tr>
            <th>Ø§Ù„ØªØ³Ù„Ø³Ù„</th>
            <th>Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù</th>
            <th>Ø§Ù„Ù…Ø³Ù…ÙˆØ­ Ù„Ù‡</th>
            <th>Ø§Ù„Ø±Ø§Ø¨Ø·</th>
            <th>Ø§Ù„ØªØ­ÙƒÙ…</th>
        </tr>
        <?php while ($file = $files->fetch_assoc()): ?>
        <tr>
            <td><?= $file['id'] ?></td>
            <td><?= $file['file_name'] ?></td>
            <td><?= ucfirst($file['allowed_job']) ?></td>
            <td><a href="<?= $file['file_path'] ?>" target="_blank">Ø¹Ø±Ø¶</a></td>
            <td>
                <button onclick="editFile(<?= $file['id'] ?>, '<?= $file['file_name'] ?>', '<?= $file['allowed_job'] ?>')">âœ ØªØ¹Ø¯ÙŠÙ„</button>
                <a href="?delete_file=<?= $file['id'] ?>" onclick="return confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ')">âŒ Ø­Ø°Ù</a>
            </td>
        </tr>
        <?php endwhile; ?>
    </table>

    <script>
        function editFile(id, name, job) {
            document.getElementById('file_id').value = id;
            document.getElementById('file_name').value = name;
            document.getElementById('job').value = job;
        }
    </script>
</body>
</html>

<?php $conn->close(); ?>
====================================================================================================
ÙƒÙˆØ¯ Ø§Ø¯Ø§Ø±Ù‡ Ù…Ø³ØªØ®Ø¯Ù… BOOTSTRAP
<?php
session_start();
$host = "localhost";
$user = "root";
$pass = "";
$dbname = "my_database";
$conn = new mysqli($host, $user, $pass, $dbname);

if ($conn->connect_error) {
    die("ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: " . $conn->connect_error);
}

$jobs = ['manager', 'captain', 'waiter', 'pass boy'];

// Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø§Ù„ÙƒÙˆØ¯
if (isset($_POST['search_code'])) {
    $search_code = $_POST['search_code'];
    $sql = "SELECT * FROM users WHERE code LIKE '%$search_code%'";
    $result = $conn->query($sql);
    while ($user = $result->fetch_assoc()) {
        echo "<tr>
                <td>{$user['id']}</td>
                <td>{$user['name']}</td>
                <td>{$user['code']}</td>
                <td>{$user['role']}</td>
                <td>" . ucfirst($user['job']) . "</td>
                <td>
                    <button class='btn btn-warning btn-sm' onclick=\"editUser({$user['id']}, '{$user['name']}', '{$user['code']}', '{$user['password']}', '{$user['role']}', '{$user['job']}')\">âœ ØªØ¹Ø¯ÙŠÙ„</button>
                    <a class='btn btn-danger btn-sm' href='?delete_user={$user['id']}' onclick=\"return confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø­Ø°ÙØŸ')\">âŒ Ø­Ø°Ù</a>
                </td>
            </tr>";
    }
    exit;
}

// Ø¥Ø¶Ø§ÙØ© Ø£Ùˆ ØªØ¹Ø¯ÙŠÙ„ Ù…Ø³ØªØ®Ø¯Ù…
if (isset($_POST['add_user']) || isset($_POST['edit_user'])) {
    $id = $_POST['id'] ?? null;
    $name = $_POST['name'];
    $code = $_POST['code'];
    $password = $_POST['password'];
    $role = $_POST['role'];
    $job = $_POST['job'];
    
    if (isset($_POST['edit_user']) && $id) {
        $sql = "UPDATE users SET name='$name', code='$code', password='$password', role='$role', job='$job' WHERE id=$id";
    } else {
        $sql = "INSERT INTO users (name, code, password, role, job) VALUES ('$name', '$code', '$password', '$role', '$job')";
    }
    $conn->query($sql);
}

// Ø­Ø°Ù Ù…Ø³ØªØ®Ø¯Ù…
if (isset($_GET['delete_user'])) {
    $id = $_GET['delete_user'];
    $conn->query("DELETE FROM users WHERE id=$id");
}

// Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯ Ø£Ùˆ ØªØ¹Ø¯ÙŠÙ„Ù‡
if (isset($_POST['add_file']) || isset($_POST['edit_file'])) {
    $file_name = $_POST['file_name'];
    $job = $_POST['job'];
    $file_id = $_POST['file_id'] ?? null;

    if (isset($_POST['edit_file']) && $file_id) {
        $sql = "UPDATE files SET file_name='$file_name', allowed_job='$job' WHERE id=$file_id";
    } else {
        $file = $_FILES['file'];
        $upload_dir = "uploads/";
        if (!is_dir($upload_dir)) {
            mkdir($upload_dir, 0777, true);
        }
        $file_path = $upload_dir . basename($file['name']);

        if (move_uploaded_file($file['tmp_name'], $file_path)) {
            $sql = "INSERT INTO files (file_name, file_path, allowed_job) VALUES ('$file_name', '$file_path', '$job')";
        }
    }
    $conn->query($sql);
}
// Ø­Ø°Ù Ù…Ù„Ù
if (isset($_GET['delete_file'])) {
    $id = $_GET['delete_file'];
    $result = $conn->query("SELECT file_path FROM files WHERE id = $id");
    $file = $result->fetch_assoc();
    if (file_exists($file['file_path'])) {
        unlink($file['file_path']);
    }
    $conn->query("DELETE FROM files WHERE id = $id");
}

// Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
$users = $conn->query("SELECT * FROM users");
// Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù„ÙØ§Øª
$files = $conn->query("SELECT * FROM files");
?>


<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„Ù…Ù„ÙØ§Øª</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
</head>
<body class="bg-light">
    <div class="container py-5">
        <h2 class="text-center mb-4">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h2>
        <div class="card p-4 shadow-sm">
            <form class="row g-3">
                <div class="col-md-6">
                    <input type="text" id="search_code" class="form-control" placeholder="Ø§Ø¨Ø­Ø« Ø¨Ø±Ù‚Ù… Ø§Ù„ÙƒÙˆØ¯" onkeyup="searchUser()">
                </div>
                <div class="col-md-6">
                    <button type="button" class="btn btn-primary w-100" onclick="searchUser()">ğŸ” Ø¨Ø­Ø«</button>
                </div>
            </form>
        </div>
        
        <div class="card p-4 shadow-sm mt-4">
            <h4 class="text-center">Ø¥Ø¶Ø§ÙØ© / ØªØ¹Ø¯ÙŠÙ„ Ù…Ø³ØªØ®Ø¯Ù…</h4>
            <form method="POST" class="row g-3">
                <input type="hidden" id="id" name="id">
                <div class="col-md-6">
                    <input type="text" id="name" name="name" class="form-control" placeholder="Ø§Ù„Ø§Ø³Ù…" required>
                </div>
                <div class="col-md-6">
                    <input type="text" id="code" name="code" class="form-control" placeholder="Ø§Ù„ÙƒÙˆØ¯" required>
                </div>
                <div class="col-md-6">
                    <input type="password" id="password" name="password" class="form-control" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
                </div>
                <div class="col-md-3">
                    <select id="role" name="role" class="form-select">
                        <option value="user">Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ø§Ø¯ÙŠ</option>
                        <option value="admin">Ù…Ø¯ÙŠØ±</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <select id="job" name="job" class="form-select">
                        <?php foreach ($jobs as $job): ?>
                            <option value="<?= $job ?>"><?= ucfirst($job) ?></option>
                        <?php endforeach; ?>
                    </select>
                </div>
                <div class="col-md-12">
                    <button type="submit" id="submitBtn" name="add_user" class="btn btn-success w-100">Ø¥Ø¶Ø§ÙØ©</button>
                </div>
            </form>
        </div>
    
        <table class="table table-striped table-bordered mt-4">
            <thead class="table-dark">
                <tr>
                    <th>#</th>
                    <th>Ø§Ù„Ø§Ø³Ù…</th>
                    <th>Ø§Ù„ÙƒÙˆØ¯</th>
                    <th>Ø§Ù„Ø¯ÙˆØ±</th>
                    <th>Ø§Ù„ÙˆØ¸ÙŠÙØ©</th>
                    <th>ØªØ­ÙƒÙ…</th>
                </tr>
            </thead>
            <tbody>
                <?php while ($user = $users->fetch_assoc()): ?>
                <tr>
                    <td><?= $user['id'] ?></td>
                    <td><?= $user['name'] ?></td>
                    <td><?= $user['code'] ?></td>
                    <td><?= $user['role'] ?></td>
                    <td><?= ucfirst($user['job']) ?></td>
                    <td>
                        <button class='btn btn-warning btn-sm' onclick="editUser(<?= $user['id'] ?>, '<?= $user['name'] ?>', '<?= $user['code'] ?>', '<?= $user['password'] ?>', '<?= $user['role'] ?>', '<?= $user['job'] ?>')">âœ ØªØ¹Ø¯ÙŠÙ„</button>
                        <a class='btn btn-danger btn-sm' href="?delete_user=<?= $user['id'] ?>" onclick="return confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø­Ø°ÙØŸ')">âŒ Ø­Ø°Ù</a>
                    </td>
                </tr>
                <?php endwhile; ?>
            </tbody>
        </table>
    </div>


    
<div class="container py-5">
    <h2 class="text-center mb-4">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù„ÙØ§Øª</h2>
    
    <div class="card p-4 shadow-sm">
        <h4 class="text-center">Ø¥Ø¶Ø§ÙØ© / ØªØ¹Ø¯ÙŠÙ„ Ù…Ù„Ù</h4>
        <form method="POST" enctype="multipart/form-data" class="row g-3">
            <input type="hidden" id="file_id" name="file_id">
            <div class="col-md-6">
                <input type="text" id="file_name" name="file_name" class="form-control" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù" required>
            </div>
            <div class="col-md-6">
                <input type="file" name="file" class="form-control" required>
            </div>
            <div class="col-md-6">
                <select id="job" name="job" class="form-select">
                    <?php foreach ($jobs as $job): ?>
                        <option value="<?= $job ?>"><?= ucfirst($job) ?></option>
                    <?php endforeach; ?>
                </select>
            </div>
            <div class="col-md-6">
                <button type="submit" id="file_submit" name="add_file" class="btn btn-success w-100">Ø¥Ø¶Ø§ÙØ©</button>
            </div>
        </form>
    </div>
    
    <table class="table table-striped table-bordered mt-4">
        <thead class="table-dark">
            <tr>
                <th>Ø§Ù„ØªØ³Ù„Ø³Ù„</th>
                <th>Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù</th>
                <th>Ø§Ù„Ù…Ø³Ù…ÙˆØ­ Ù„Ù‡</th>
                <th>Ø§Ù„Ø±Ø§Ø¨Ø·</th>
                <th>Ø§Ù„ØªØ­ÙƒÙ…</th>
            </tr>
        </thead>
        <tbody>
            <?php while ($file = $files->fetch_assoc()): ?>
            <tr>
                <td><?= $file['id'] ?></td>
                <td><?= $file['file_name'] ?></td>
                <td><?= ucfirst($file['allowed_job']) ?></td>
                <td><a class="btn btn-primary btn-sm" href="<?= $file['file_path'] ?>" target="_blank">ğŸ“‚ Ø¹Ø±Ø¶</a></td>
                <td>
                    <button class='btn btn-warning btn-sm' onclick="editFile(<?= $file['id'] ?>, '<?= $file['file_name'] ?>', '<?= $file['allowed_job'] ?>')">âœ ØªØ¹Ø¯ÙŠÙ„</button>
                    <a class='btn btn-danger btn-sm' href="?delete_file=<?= $file['id'] ?>" onclick="return confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø­Ø°ÙØŸ')">âŒ Ø­Ø°Ù</a>
                </td>
            </tr>
            <?php endwhile; ?>
        </tbody>
    </table>
</div>

<script>
    function editFile(id, name, job) {
        document.getElementById('file_id').value = id;
        document.getElementById('file_name').value = name;
        document.getElementById('job').value = job;
        document.getElementById('file_submit').name = 'edit_file';
        document.getElementById('file_submit').textContent = 'ØªØ¹Ø¯ÙŠÙ„';
    }
</script>

    <script>
        function editUser(id, name, code, password, role, job) {
            document.getElementById('id').value = id;
            document.getElementById('name').value = name;
            document.getElementById('code').value = code;
            document.getElementById('password').value = password;
            document.getElementById('role').value = role;
            document.getElementById('job').value = job;
            document.getElementById('submitBtn').name = 'edit_user';
            document.getElementById('submitBtn').textContent = 'ØªØ¹Ø¯ÙŠÙ„';
        }
    </script>
    <script>
        function editFile(id, name, job) {
            document.getElementById('file_id').value = id;
            document.getElementById('file_name').value = name;
            document.getElementById('job').value = job;
            document.getElementById('file_submit').name = 'edit_file';
            document.getElementById('file_submit').textContent = 'ØªØ¹Ø¯ÙŠÙ„';
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
